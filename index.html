<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <title>Minesweeper</title>
    <h1><button class="restartBtn" onclick="restartGame()">üòÅ</button></h1>
    <div class="hud">
        <button class="dark-mode-toggle" onclick="toggleDarkMode()">Dark mode üåô</button>
        Choose difficulty :
        <button class="size-4" onclick="onInit(4, 4)">4*4</button>
        <button class="size-8" onclick="onInit(8, 8)">8*8</button>
        <button class="size-12" onclick="onInit(12, 12)">12*12</button>
        <button class="custom-mode" onclick="manuallySetMines()">Manually Create</button>
        <span class="timer">|| Time: 00.000</span>
    </div>
</head>
<body class="body" onload="onInit(4, 4)">
   
    <table class="game-board">
        <tbody class="board"></tbody>
    </table>
    <P class="footer">Created by Aviv Buzaglo</P>
    <p class="lives">Lives: ‚ù§Ô∏è‚ù§Ô∏è‚ù§Ô∏è</p>
    
    <div class="help">
    <button class="hints" onclick="giveHint()"><img src="css/img/hint1.png"></button> 
    <button class="safe-click" onclick="safeClick()">3 <br> Safe Clicks</button>
    <button class="undo" onclick="undo()">Undo Move</button>
    <button class="mega-hint" onclick="megaHint()">Mega Hint</button>
    <button class="exterminator" onclick="exterminator()">Exterminator</button>
    </div>
    
    <div class="best-scores">
        <h2>Best times table</h2>
        <table>
            <tbody class="best-scores-tbody">
                <tr>
                    <th>Board size</th>
                    <th>Best time</th>
                </tr>
                <tr>
                    <td>4x4 Board</td>
                    <td id="4x4-score"></td>
                </tr>
                <tr>
                    <td>8x8 Board</td>
                    <td id="8x8-score"></td>
                </tr>
                <tr>
                    <td>12x12 Board</td>
                    <td id="12x12-score"></td>
                </tr>
            </tbody>
        </table>
    </div>
    <button id="openModal">Help</button>

    <div class="modal" id="modal">
        <div class="modal-inner">
            <h2>Patterns:</h2>
            <p id="B1">
                <h3>B1</h3>
                If a number is touching the same number of cells, then these cells are all mines: <br>
                <img src="css/img/patterns/B1 pattern.png" alt="a picture of pattern">
                <hr>
            </p>
            <p id="B2">
                <h3>B2</h3>
                If a number is touching the same number of flags, then all adjacent cells can be opened: <br>
                <img src="css/img/patterns/B2.png" alt="a picture of pattern">
                <hr> 
            </p>
            <p id="1-1">
                <h3>1-1</h3>
                <ul>
                    <li>Look at the left 1.</li>
                    <li>It touches the two yellow cells, so they contain one mine.</li>
                    <li>Now look at the right 1.</li>
                    <li>It also touches the two yellow cells, so it already has a mine and the third cell can be opened.</li>
                </ul>
                <img src="css/img/patterns/1-1.png" alt="a picture of pattern">
                <hr>
            </p>
            <p id="1-1+">
                <h3>1-1+</h3>
                <ul>
                    <li>Look at the left 1.</li>
                    <li>It touches the two yellow cells, so they contain one mine.</li>
                    <li>Now look at the right 1.</li>
                    <li>It also touches the two yellow cells, so it already has a mine and all the remaining cells can be opened.</li>
                </ul>
                <img src="css/img/patterns/1-1+.png" alt="a picture of pattern">
                <hr>
            </p>
            <p id="1-2">
                <h3>1-2</h3>
                <ul>
                    <li>Look at the 1.</li>
                    <li>It touches the two yellow cells, so they contain one mine.</li>
                    <li>Now look at the 2.</li>
                    <li>Its first mine is in the yellow cells, therefore, the second mine is in the third cell.</li>
                </ul>
                <img src="css/img/patterns/1-2.png" alt="a picture of pattern">
                <hr>
            </p>
            <p id="1-2+">
                <h3>1-2+</h3>
                <ul>
                    <li>Look at the 1.</li>
                    <li>It touches the two yellow cells, so they contain one mine.</li>
                    <li>Now look at the 4.</li>
                    <li>It also touches the two yellow cells, so it already has one mine, therefore, as there are only three remaining cells, they must be mines.</li>
                </ul>
                <img src="css/img/patterns/1-2+.png" alt="a picture of pattern">
                <hr>
            </p>
            <p id="1-2c">
                <h3>1-2c</h3>
                <ul>
                    <li>Look at the purple cells, what can we say about them?</li>
                    <li>They can't both be mines, because that would overflow the 1. They contain a maximum of one mine.</li>
                    <li>Now look at the 2.</li>
                    <li>If the purple cells can't both be mines, then there must be a mine in the remaining third cell.</li>
                </ul>
                <img src="css/img/patterns/1-2c.png" alt="a picture of pattern">
                <hr>
            </p>
            <p id="1-2c+">
                <h3>1-2c+</h3>
                <ul>
                    <li>Look at the purple cells, what can we say about them?</li>
                    <li>They can't both be mines, because that would overflow the 1. They contain a maximum of one mine.</li>
                    <li>Now look at the 4.</li>
                    <li>If the purple cells can't both be mines, then there must be three mines in the three remaining cells.</li>
                </ul>
                <img src="css/img/patterns/1-2c+.png" alt="a picture of pattern">
                <hr>
            </p>
            <p id="1-2-1">
                <h3>1-2-1</h3>
                The 1-2-1 pattern has one solution. Actually, it's just a combination of two 1-2 patterns:
                <ul>
                    <li>Apply the 1-2 pattern from the left.</li>
                    <li>Apply the 1-2 from the right.</li>
                    <li>And here's the final result.</li>
                </ul>
                <img src="css/img/patterns/1-2-1.png" alt="a picture of pattern">
                <hr>
            </p>
            <p id="1-2-2-1">
                <h3>1-2-2-1</h3>
                The 1-2-2-1 pattern has one solution. It's also just a combination of two 1-2 patterns:
                <ul>
                    <li>Apply the 1-2 pattern from the left.</li>
                    <li>Apply the 2-1 from the right.</li>
                    <li>And here's the final result</li>
                </ul>
                <img src="css/img/patterns/1-2-2-1.png" alt="a picture of pattern">
            </p>
            credit: <a href="https://minesweeper.online/help/patterns">minesweeper.online</a>
            <br>
            <button id="closeModal">Close</button>
        </div>

    </div>

    <script src="js/app.js"></script>
    <script src="js/util.js"></script>
</body>
</html>